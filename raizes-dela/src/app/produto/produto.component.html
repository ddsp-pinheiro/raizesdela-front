<div class="container mt-3 mb-5">
  <div class="row d-flex justify-content-center">
    <div class="col-md-12">
      <h1 class="text-center titulo">{{produto.categoria.nome}}</h1>
    </div>
  </div>

  <div id="grup">
    <img src={{produto.imagem}}>

    <div class="col-5" id="txt-grup">
      <h2>{{produto.nome}}</h2>

      <h1>R${{produto.valor.toFixed(2).replace('.', ',')}}</h1>


      <!--Nova div quantidade-->
      <div id="quantrow" class="row">
        <div class="col-md-5">
          <p> Quantidade:</p>
        </div>
        <div class="col-md-1">
          <p></p>
        </div>
        <div class="col-md-5" id="quantidade">
          <input type="button" id="minus" value="-" (click)="process(-1)" (click)="parcial()" />
          <input [(ngModel)]="quant" id="quant" name="quant" class="text" size="1" value="1" type="text"
            maxlength="2" />
          <input type="button" id="plus" value="+" (click)="process(1)" (click)="parcial()">
        </div>
      </div>
      <!--Fim nova div-->

      <button type="button" class="btn bb" (click)="addCarrinho()">Adicionar ao carrinho</button>
      <div id="descricao">
        <p><strong>DESCRIÇÃO: </strong>{{produto.descricao}}</p>

      </div>
    </div>
  </div>
<!-- comentários -->
  <div class="accordion mt-5" [attr.id]="'comentProduto' + produto.id">

    <div class="mt-2" id="headingTwo">
      <h5 class="mb-0 d-flex justify-content-center">
        <button class="btn btn-link collapsed hover" type="button" data-toggle="collapse"
          [attr.data-target]="'#' + 'comentButtonProduto' + produto.id" aria-expanded="false"
          aria-controls="collapseTwo">
          <p class="text-white font-weight-bold mb-2 ">
            <i class="fa fa-comments-o" aria-hidden="true"></i> Comentários
          </p>
        </button>
      </h5>
    </div>

    <div [attr.id]="'comentButtonProduto' + produto.id" class="collapse" aria-labelledby="headingTwo"
      [attr.data-parent]="'#' + 'comentProduto' + produto.id">

      <div class="row mb-3">
        <div class="col d-flex justify-content-center align-items-center p-4">
          <div class="input-group w-100">
            <input type="text" class="form-control mr-2" placeholder="Digite aqui seu comentário"
              aria-label="Recipient's username" aria-describedby="button-addon2" [(ngModel)]='comentario.texto'
              id='inputComentario'>
            <div class="input-group-append">
              <button class="btn" (click)='comentar(produto.id)'
                id="button-addon2">Comentar </button>
            </div>
          </div>
        </div>
      </div>


      <div class="row d-flex justify-content-center"
        *ngFor='let coment of listaComentarios'>
        <div class="col-md-11 " *ngIf='coment.produto.id == produto.id'>
          <div class="card mb-3 shadow border-0 rounded">
            <div class="card-body">
              <div class="row">
                <div class="col d-flex justify-content-start">
                  <img class="img" id="tamanho" src="../../assets/img/folhinha.png" alt="folhinhas"><p> <b>{{coment.usuario.nome}} comentou:</b> </p>
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <p class="card-text ml-4" aria-describedby="texto">{{coment.texto}} </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<!-- comentários -->
</div>
